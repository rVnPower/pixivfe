{{- target := CookieList["pixivfe-ThumbnailToNewTab"] }}
{{- hideR18 := CookieList["pixivfe-HideArtR18"] }}
{{- hideR18G := CookieList["pixivfe-HideArtR18G"] }}
<div class="artwork-image">
  <div class="artwork-additional">
    {{- if isset(.Rank) }}
    <div class="artwork-position">{{ .Rank }}</div>
    {{- end }}
    {{- if .XRestrict != 0 }}
    <div class="artwork-profanity-label">
      <span>{{ if .XRestrict == 1 }}R-18{{ else }}R-18G{{ end }}</span>
    </div>
    {{- end }}
    {{- if .Pages > 1 }}
    <div class="artwork-page-count"><span>&boxbox; {{ .Pages }}</span></div>
    {{- end }}
    {{- if .IllustType == 2 }}
    <div class="artwork-page-count"><span>&#9654;</span></div>
    {{- end }}
  </div>
  <a target="{{ target }}" href="/artworks/{{ .ID }}#checkpoint">
    {{- if (.XRestrict > 0 && hideR18 != "" && hideR18G != "") || (.XRestrict == 2 && hideR18G != "") }}
    <img src="/img/nsfw.png" alt="{{ .Title }}" loading="lazy" />
    {{- else }}
    <img src="{{ .Thumbnail }}" alt="{{ .Title }}" loading="lazy" />
    {{- end }}
  </a>
</div>
