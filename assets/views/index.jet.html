{{- extends "layout/default" }}
{{- block body() }}

<div class="container">
  {{- if !.LoggedIn }}
  <p>Not logged in. You can login <a href="/settings">here</a>.</p>
  <div class="component-header">
    <h2>Today's illustration rankings</h2>
    <a href="/ranking?content=all">See more</a>
  </div>
  <div class="artwork-container-scroll">
    {{- include "fragments/ranking-tn" .NoTokenData.Contents }}
  </div>

  {{- else }}
  <div class="switcher">
    <span class="switch-title">Filter</span>
    <a href="/?mode=all" class="switch-button">All</a>
    <a href="/?mode=r18" class="switch-button">R-18</a>
  </div>
  <div class="component-header">
    <h2>Newest works by users you follow</h2>
    <a href="/self/followingWorks">See more</a>
  </div>
  <div class="artwork-container-scroll">
    {{- include "fragments/small-tn" .Data.Following }}
  </div>
  <br />
  <h2>Recommended works</h2>
  <div class="artwork-container">
    {{- include "fragments/small-tn" .Data.Recommended }}
  </div>
  <br />
  {{- range .Data.RecommendByTags }}
  <h2>Recommended illustrations tagged <a href="/tags/{{.Name}}">#{{.Name}}</a></h2>
  <div class="artwork-container">
    {{- include "fragments/small-tn" .Artworks }}
  </div>
  <br />
  {{- end }}

  {{- end }}
</div>
{{- end }}
