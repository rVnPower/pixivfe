{{- extends "layout/default" }}
{{- block body() }}
<div class="row justify-content-center mb-5">
  <div class="col-sm-12 col-lg-9">
    <h1 class="h3 fw-bold mb-3">Ranking calendar ({{ .ThisMonth.MonthLiteral }} {{ .Year }})</h1>
     <div class="row">
      <div class="col-sm-12 col-lg-6">
        <div class="card border-0 mb-4">
          <div class="card-body rounded-5 bg-body-tertiary p-4">
            <h2 class="h4 fw-bold mb-3">Modes</h2>
            {{- url := "/rankingCalendar?date=" + .ThisMonth.Link + "&mode=" }}
            <div class="btn-group flex-wrap mb-3" role="group" aria-label="Ranking modes">
              <a href="{{ url }}daily" class="btn btn-secondary fw-bold rounded-pill me-2 mb-2">Daily</a>
              <a href="{{ url }}weekly" class="btn btn-secondary fw-bold rounded-pill me-2 mb-2">Weekly</a>
              <a href="{{ url }}monthly" class="btn btn-secondary fw-bold rounded-pill me-2 mb-2">Monthly</a>
              <a href="{{ url }}rookie" class="btn btn-secondary fw-bold rounded-pill me-2 mb-2">Rookie</a>
            </div>
            <div class="btn-group flex-wrap mb-3" role="group" aria-label="R-18 modes">
              <a href="{{ url }}daily_r18" class="btn btn-danger fw-bold rounded-pill me-2 mb-2">Daily (R-18)</a>
              <a href="{{ url }}weekly_r18" class="btn btn-danger fw-bold rounded-pill me-2 mb-2">Weekly (R-18)</a>
              <a href="{{ url }}r18g" class="btn btn-danger fw-bold rounded-pill me-2 mb-2">R-18G</a>
            </div>
            <div class="btn-group flex-wrap mb-3" role="group" aria-label="Original and gender-specific modes">
              <a href="{{ url }}original" class="btn btn-secondary fw-bold rounded-pill me-2 mb-2">Original</a>
              <a href="{{ url }}male" class="btn btn-secondary fw-bold rounded-pill me-2 mb-2">Popular among males</a>
              <a href="{{ url }}female" class="btn btn-secondary fw-bold rounded-pill me-2 mb-2">Popular among females</a>
            </div>
            <div class="btn-group flex-wrap" role="group" aria-label="R-18 gender-specific modes">
              <a href="{{ url }}male_r18" class="btn btn-danger fw-bold rounded-pill me-2 mb-2">Popular among males (R-18)</a>
              <a href="{{ url }}female_r18" class="btn btn-danger fw-bold rounded-pill me-2 mb-2">Popular among females (R-18)</a>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-12 col-lg-6">
        <div class="card border-0 mb-4">
          <div class="card-body rounded-5 bg-body-tertiary p-4">
            <h2 class="h4 fw-bold mb-3">Date Picker</h2>
            <form action="/rankingCalendar" method="post" class="mb-0">
              <input type="hidden" name="mode" value="{{ .Mode }}" />
              <div class="mb-3">
                <label for="date" class="form-label fw-bold">Date (mm/dd/yyyy):</label>
                <input type="date" id="date" name="date" class="form-control" min="2007-09-01" max="{{.Year}}-{{ .ThisMonth.MonthPadded }}-01" value="{{.Year}}-{{ .ThisMonth.MonthPadded }}-01"/>
              </div>
              <button type="submit" class="btn btn-primary fw-bold rounded-pill">Go</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="col-12">
  <div class="card border-0 mb-4">
    <div class="card-body rounded-5 bg-body-tertiary p-4">
      <h2 class="h4 fw-bold mb-4">Calendar</h2>
      <div class="row text-center fw-bold mb-3">
        <div class="col">Sun</div>
        <div class="col">Mon</div>
        <div class="col">Tue</div>
        <div class="col">Wed</div>
        <div class="col">Thu</div>
        <div class="col">Fri</div>
        <div class="col">Sat</div>
      </div>
      <div class="row row-cols-2 row-cols-md-5 row-cols-lg-7 g-3">
        {{ range i, day := .Calendar }}
          <div class="col">
            <div class="card h-100 border-0">
              {{ if day.DayNumber > 0 }}
                {{ if day.ImageURL }}
                  <a href="{{ day.ArtworkLink }}" class="text-decoration-none">
                    <img src="{{ day.ImageURL }}" alt="Day {{ day.DayNumber }}" class="card-img-top img-fluid object-fit-cover h-100" />
                    <div class="card-img-overlay d-flex align-items-start rounded p-2">
                      <p class="card-text text-white fw-bold bg-dark bg-opacity-75 rounded-pill px-2 py-1 mb-0">{{ day.DayNumber }}</p>
                    </div>
                  </a>
                {{ else }}
                  <div class="card-body d-flex align-items-center justify-content-center">
                    <p class="card-text text-center fw-bold mb-0">{{ day.DayNumber }}</p>
                  </div>
                {{ end }}
              {{ else }}
                <div class="card h-100 border-0"></div>
              {{ end }}
            </div>
          </div>
        {{ end }}
      </div>
    </div>
  </div>

  <nav aria-label="Month navigation">
    {{- url := "/rankingCalendar?mode=" + .Mode + "&date=" }}
    <ul class="pagination justify-content-center">
      <li class="page-item">
        <a class="btn btn-secondary fw-bold rounded-pill me-2" href="{{ url }}{{ .MonthBefore.Link }}">Last month</a>
      </li>
      <li class="page-item">
        <a class="btn btn-secondary fw-bold rounded-pill" href="{{ url }}{{ .MonthAfter.Link }}">Next month</a>
      </li>
    </ul>
  </nav>
</div>
{{- end }}
